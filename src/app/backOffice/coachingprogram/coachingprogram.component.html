<div>
  <app-admin-sidebar></app-admin-sidebar>

  <div class="relative md:ml-64 bg-blueGray-100 min-h-screen">
    <app-admin-navbar></app-admin-navbar>
    <app-admin-header-stats></app-admin-header-stats>

    <div class="px-4 md:px-10 mx-auto w-full -m-24">
      <div class="program-list-container py-8">

        <!-- Titre + Bouton -->
        <div class="flex justify-between items-center mb-8">
          <h2 class="text-2xl font-bold text-gray-800">Liste des programmes de coaching</h2>
          <button
            class="btn btn-primary flex items-center space-x-2"
            [routerLink]="['/coaching-program']">
            <i class="fas fa-plus"></i>
            <span>Ajouter un programme</span>
          </button>
        </div>

        <!-- Message de chargement -->
        <div *ngIf="isLoading" class="text-center py-12">
          <div class="inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"></div>
          <p class="text-gray-600">Chargement en cours...</p>
        </div>

        <!-- Aucun programme -->
        <div *ngIf="!isLoading && programs.length === 0" class="text-center py-12 bg-white rounded-lg shadow">
          <i class="fas fa-inbox text-4xl text-gray-400 mb-4"></i>
          <p class="text-gray-600">Aucun programme trouv√©.</p>
        </div>

        <!-- Grille de cartes -->
        <div *ngIf="!isLoading && programs.length > 0" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <div *ngFor="let program of programs" class="bg-white rounded-lg shadow-md overflow-hidden border border-gray-200 hover:shadow-lg transition-shadow duration-300">
            <div class="p-6">
              <!-- En-t√™te -->
              <div class="flex justify-between items-start mb-4">
                <h3 class="text-xl font-semibold text-gray-800">{{ program.title }}</h3>
               
              </div>

              <!-- Description -->
              <p class="text-gray-600 mb-4">{{ program.description }}</p>

              <!-- Dates -->
              <div class="flex flex-wrap gap-4 mb-4">
                <div class="flex items-center text-sm text-gray-500">
                  <i class="fas fa-calendar-alt mr-2 text-blue-500"></i>
                  <span><strong>D√©but :</strong> {{ program.startDate | date:'dd/MM/yyyy' }}</span>
                </div>
                <div class="flex items-center text-sm text-gray-500">
                  <i class="fas fa-calendar-check mr-2 text-blue-500"></i>
                  <span><strong>Fin :</strong> {{ program.endDate | date:'dd/MM/yyyy' }}</span>
                </div>
              </div>

              <!-- Participants -->
              <div class="flex items-center text-sm text-gray-500 mb-4">
                <i class="fas fa-users mr-2 text-blue-500"></i>
                <span><strong>Participants :</strong> {{ program.participants }}</span>
              </div>
              <!-- Lien vers la progression -->
                <a
                class="text-sm text-blue-600 hover:underline flex items-center space-x-1"
                [routerLink]="['/coach/progress', program.programId]">
                <i class="fas fa-chart-line"></i>
                <span>Voir progression</span>
              </a>
              <!-- Actions -->
              <div class="flex justify-end space-x-2 pt-4 border-t border-gray-100">
                <button
                  class="btn btn-success btn-sm flex items-center space-x-1"
                  [routerLink]="['/coaching-programs/coachingProgram', program.programId]">
                  <i class="fas fa-edit"></i>
                  <span>Modifier</span>
                </button>
                <button
                  class="btn btn-danger btn-sm flex items-center space-x-1"
                  (click)="onDelete(program.programId)">
                  <i class="fas fa-trash"></i>
                  <span>Supprimer</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- üèÜ Coach du Mois -->
      <div class="my-8">
        <app-coach-of-the-month></app-coach-of-the-month>
      </div>
       <!-- Afficher le composant de progression -->
       

      <router-outlet></router-outlet>
      <app-footer-admin></app-footer-admin>
    </div>
  </div>
</div>
