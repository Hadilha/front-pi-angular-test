<div class="relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded"
  [ngClass]="color === 'light' ? 'bg-white' : 'bg-red-900 text-white'">
  <div class="rounded-t mb-0 px-4 py-3 border-0">
    <div class="flex flex-wrap items-center">
      <div class="relative w-full px-4 max-w-full flex-grow flex-1">
        <div class="flex flex-col">
          <h3 class="font-semibold text-lg mb-4"
              [ngClass]="color === 'light' ? 'text-blueGray-700' : 'text-white'">
            Users Management
          </h3>
          <div class="flex justify-between items-center">
            <h4 class="text-md"
                [ngClass]="color === 'light' ? 'text-blueGray-500' : 'text-red-200'">
              Users List
            </h4>
            <div class="flex gap-3">
              <button
                (click)="toggleView()"
                class="bg-blue-500 text-white hover:bg-blue-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none ease-linear transition-all duration-150"
                [ngClass]="color === 'light'
                  ? 'bg-blue-500 text-white hover:bg-blue-600'
                  : 'bg-red-700 text-white hover:bg-red-800'"
                aria-label="Add new user">
                Add User
              </button>
              <!-- Add more buttons here with proper spacing -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="block w-full overflow-x-auto">
    <!-- Users table -->
    <table class="items-center w-full bg-transparent border-collapse">
      <thead>
        <tr>
          <th class="px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left"
            [ngClass]="color === 'light'
              ? 'bg-blueGray-50 text-blueGray-500 border-blueGray-100'
              : 'bg-red-800 text-red-300 border-red-700'">
            Name
          </th>
          <th class="px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left"
            [ngClass]="color === 'light'
              ? 'bg-blueGray-50 text-blueGray-500 border-blueGray-100'
              : 'bg-red-800 text-red-300 border-red-700'">
            Username
          </th>
          <th class="px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left"
            [ngClass]="color === 'light'
              ? 'bg-blueGray-50 text-blueGray-500 border-blueGray-100'
              : 'bg-red-800 text-red-300 border-red-700'">
            Email
          </th>
          <th class="px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left"
            [ngClass]="color === 'light'
              ? 'bg-blueGray-50 text-blueGray-500 border-blueGray-100'
              : 'bg-red-800 text-red-300 border-red-700'">
            Role
          </th>
          <th class="px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left"
            [ngClass]="color === 'light'
              ? 'bg-blueGray-50 text-blueGray-500 border-blueGray-100'
              : 'bg-red-800 text-red-300 border-red-700'">
            Actions
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users">
          <td class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
            <span [ngClass]="color === 'light' ? 'text-blueGray-600' : 'text-white'">
              {{ user.firstname }} {{ user.lastname }}
            </span>
          </td>
          <td class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
            {{ user.username }}
          </td>
          <td class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
            {{ user.email }}
          </td>
          <td class="border-t-0 px-6 align-middle border-l-0 border-r-0 p-4">
            <span
              class="inline-block px-3 py-1 text-xs font-semibold rounded-full transition-all"
              [ngClass]="{
                'admin-500 hover:admin-600': user.role === 'ADMIN',
                'doctor-500 hover:doctor-600': user.role === 'DOCTOR',
                'coach-500 hover:coach-600': user.role === 'COACH',
                'patient-500 hover:patient-600': user.role === 'PATIENT',
                'user-500 hover:user-600': user.role === 'USER',
                'text-white shadow-md': true
              }"
            >
            {{ user.role }}
            </span>
          </td>
          <td class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
            <div class="flex items-center gap-6"> <!-- Added gap to space buttons -->
              <!-- Edit Button -->
              <button
                (click)="editUser(user)"
                class="bg-blue-500 text-white hover:bg-blue-600 px-3 py-1 rounded-md text-xs flex items-center gap-1 transition-colors">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 114.95 0 2.5 2.5 0 01-4.95 0M12 15v3m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                Edit
              </button>

              <!-- Delete Button -->
              <button
                (click)="deleteUser(user.id)"
                class="bg-red-500 text-white hover:bg-red-600 px-3 py-1 rounded-md text-xs flex items-center gap-1 transition-colors">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                </svg>
                Delete
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
