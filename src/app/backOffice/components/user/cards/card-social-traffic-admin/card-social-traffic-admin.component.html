<!-- src/app/admin/card-social-traffic-admin.component.html -->
<div class="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded">
  <div class="rounded-t mb-0 px-4 py-3 border-0 flex items-center">
    <h3 class="font-semibold text-base text-blueGray-700">User Distribution</h3>
  </div>
  <div class="block w-full overflow-x-auto p-4">
    <table class="w-full text-xs">
      <tr>
        <th class="text-left">Category</th>
        <th class="text-right">Count</th>
        <th class="w-2/5">%</th>
      </tr>

      <tr *ngFor="let row of [
        { label: 'Doctors', count: stats?.doctors },
        { label: 'Patients', count: stats?.patients },
        { label: 'Active', count: stats?.activeUsers },
        { label: 'Inactive', count: stats?.inactiveUsers }
      ]">
        <td>{{ row.label }}</td>
        <td class="text-right">{{ row.count }}</td>
        <td>
          <div class="flex items-center">
            <span class="mr-2">{{ percent(row.count || 0, stats.totalUsers || 1) }}%</span>
            <div class="relative w-full">
              <div class="overflow-hidden h-2 text-xs flex rounded bg-blueGray-200">
                <div
                  [style.width.%]="percent(row.count || 0, stats.totalUsers || 1)"
                  class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blueGray-600"
                ></div>
              </div>
            </div>
          </div>
        </td>
      </tr>
    </table>
  </div>
</div>
