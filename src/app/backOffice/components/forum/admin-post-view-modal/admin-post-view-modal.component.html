<div
  class="relative bg-white mx-auto shadow-2xl rounded-2xl px-6 sm:px-8 md:px-10 lg:px-12 pt-10 pb-8 mt-12 transition-all duration-300 ease-in-out transform"
  style="width: 95vw; max-width: 1400px;"
  *ngIf="isModalOpen"
  [ngClass]="{ 'opacity-0 translate-y-10': !isModalOpen, 'opacity-100 translate-y-0': isModalOpen }"
>


  <!-- ng  Header -->
  <div class="flex justify-between items-center border-b pb-4">
    <h2 class="text-3xl font-semibold text-blueGray-700">Post Details</h2>
    <button mat-icon-button color="warn" (click)="close()">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <!-- Avatar (Now below header with margin instead of overlap) -->
  <div class="flex justify-center mt-6 mb-4">
    <img
      alt="Post Author Avatar"
      src="https://i.pravatar.cc/150"
      class="rounded-full h-32 w-32 object-cover border-4 border-white shadow-xl"
    />
  </div>

  <!-- Title + Author + Status -->
  <div class="text-center mb-6">
    <h3 class="text-2xl font-semibold text-blueGray-700 mb-1">
      {{ data.title }}
    </h3>

    <p class="text-sm text-blueGray-400 font-medium uppercase mb-2">
      by {{ data.author || 'Unknown Author' }}
    </p>

    <div class="flex justify-center items-center space-x-2">
      <span
        class="inline-block px-3 py-1 rounded-full text-white text-xs font-semibold"
        [ngClass]="{
          'bg-green-500': data.status === 'published',
          'bg-yellow-500': data.status === 'pending',
          'bg-red-500': data.status === 'deleted'
        }"
      >
        {{ data.status | titlecase }}
      </span>
      <span class="text-xs text-blueGray-500">
        â€¢ {{ data.date | date: 'mediumDate' }}
      </span>
    </div>
  </div>

  <!-- Post Content -->
  <div class="border-t border-blueGray-200 pt-6 text-center">
    <p class="text-base text-blueGray-700 whitespace-pre-wrap">
      {{ data.content || 'No content provided.' }}
    </p>
  </div>

  <!-- Comments Section -->
  <div class="mt-8 border-t pt-6">
    <h4 class="text-lg font-semibold text-gray-700 mb-4">Comments</h4>

    <div *ngIf="data && data.comments && data.comments.length > 0; else noComments">
      <div *ngFor="let comment of data.comments" class="bg-gray-50 p-4 rounded mb-4 shadow-lg hover:shadow-xl transition-shadow duration-300">
        <div class="flex justify-between items-center mb-2">
          <div>
            <p class="text-sm font-medium text-blue-600">{{ comment.author }}</p>
            <p class="text-xs text-gray-500">{{ comment.date | date:'medium' }}</p>
          </div>
          <div>
            <button mat-icon-button color="warn" aria-label="Delete comment" (click)="deleteComment(comment.id)">
              <mat-icon>delete</mat-icon>
            </button>
            <button mat-icon-button color="primary" aria-label="Block comment" (click)="blockComment(comment.id)">
              <mat-icon>block</mat-icon>
            </button>
          </div>
        </div>
        <p class="text-gray-700 text-sm">{{ comment.content }}</p>
      </div>
      
    </div>

    <ng-template #noComments>
      <p class="text-sm text-gray-500 italic">No comments for this post.</p>
    </ng-template>
  </div>

  <!-- Close Button -->
  <div class="flex justify-end mt-8">
    <button mat-stroked-button color="warn" (click)="close()">Close</button>
  </div>
</div>
