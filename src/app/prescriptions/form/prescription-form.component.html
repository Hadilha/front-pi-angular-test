<div class="container mt-4">
  <h2>{{ isEditMode ? 'Edit' : 'Add' }} Prescription</h2>

  <form [formGroup]="prescriptionForm" (ngSubmit)="onSubmit()">
    <div class="mb-3">
      <label for="medicationName" class="form-label">Medication Name</label>
      <input type="text" class="form-control" id="medicationName"
             formControlName="medicationName" required>
      <div *ngIf="prescriptionForm.get('medicationName')?.invalid &&
                 (prescriptionForm.get('medicationName')?.dirty ||
                  prescriptionForm.get('medicationName')?.touched)"
           class="text-danger">
        Medication name is required
      </div>
    </div>

    <div class="mb-3">
      <label for="dosage" class="form-label">Dosage</label>
      <input type="text" class="form-control" id="dosage"
             formControlName="dosage" required>
      <div *ngIf="prescriptionForm.get('dosage')?.invalid &&
                 (prescriptionForm.get('dosage')?.dirty ||
                  prescriptionForm.get('dosage')?.touched)"
           class="text-danger">
        Dosage is required
      </div>
    </div>

    <div class="mb-3">
      <label for="doctorId" class="form-label">Doctor ID</label>
      <input type="number" class="form-control" id="doctorId"
             formControlName="doctorId" required min="1">
      <div *ngIf="prescriptionForm.get('doctorId')?.invalid &&
                 (prescriptionForm.get('doctorId')?.dirty ||
                  prescriptionForm.get('doctorId')?.touched)"
           class="text-danger">
        Valid Doctor ID is required (must be greater than 0)
      </div>
    </div>

    <div class="mb-3">
      <label for="patientId" class="form-label">Patient ID</label>
      <input type="number" class="form-control" id="patientId"
             formControlName="patientId" required min="1">
      <div *ngIf="prescriptionForm.get('patientId')?.invalid &&
                 (prescriptionForm.get('patientId')?.dirty ||
                  prescriptionForm.get('patientId')?.touched)"
           class="text-danger">
        Valid Patient ID is required (must be greater than 0)
      </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="prescriptionForm.invalid">
      {{ isEditMode ? 'Update' : 'Save' }}
    </button>
    <a routerLink="/prescriptions" class="btn btn-secondary ms-2">Cancel</a>
  </form>
</div>
